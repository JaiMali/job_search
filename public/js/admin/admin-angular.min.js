var appAccelaar = window.appAccelaar = angular.module('appAccelaar',['ngResource','ui.router','ui.bootstrap']);

appAccelaar.config(['$stateProvider','$urlRouterProvider',function($stateProvider,$urlRouterProvider){
  $urlRouterProvider.otherwise('/home');
  $stateProvider.state('home',{
    url:'/home',
    templateUrl:'/js/admin/templates/home.html',
    controller: 'HomeController'
  })
    .state('internship_settings',{
      url:'/internship_settings',
      templateUrl:'/js/admin/templates/internship-settings.html',
      controller: 'InternshipController'
    })
    .state('company_lis',{
      url:'/company_lists',
      templateUrl:'/js/admin/templates/company.html',
      controller:'CompanyController'
    })
    .state('users',{
      url:'/users',
      templateUrl:'/js/admin/templates/users.html',
      controller:'UserController'
    })
}]);

/**
 * Created by sibin on 9/10/2016.
 */
var appAccelaar = window.appAccelaar || angular.module('appAccelaar',[]);

appAccelaar.controller('HomeController',['$scope','InternshipService',
    function($scope,InternshipService){
    $scope.title = "Internship List";
    $scope.internship_list = [];
    InternshipService.getInternshipList().then(function(result){
        console.log(result)
        if(result.data.status == 200){
            $scope.internship_list = result.data.data
        }
        console.log($scope.internship_list)
    });

}]);




/* START HOME INTERNSHIP CONTROLLER */
/**
 * - List all internship fields and skills
 *
 */
appAccelaar.controller('InternshipController',['$scope', function($scope){
  $scope.intership_fileds = [
    {
      name:'Web Development',
      skills:[
        'Java','PHP','Rails', 'Javascript','HTML','CSS2'
      ]
    }
  ]
}]);
/* EOF HOME INTERNSHIP CONTROLLER */
appAccelaar.controller('UserController',['$scope', function($scope){

}]);

/* START COMPANY CONTROLLER */
appAccelaar.controller('CompanyController',['$scope','Company', function($scope,Company){
  $scope.companies = [];
  Company.company().query(function(result){

  }, function(error){

  })
}]);
/* END COMPANY CONTROLLER */
var appAccelaar = window.appAccelaar || angular.module('appAccelaar',[]);
appAccelaar.service('Company',['$resource', function($resource){
  this.company = function(){
    return $resource('/api/company/:id',{id:'@id'})
  }
}]);
var appAccelaar = window.appAccelaar || angular.module('appAccelaar',[]);
appAccelaar.factory('InternshipService',['$http','$q',
    function($http,$q){
    var getInternshipList = function(){
        return $q(function(resolve,reject){
            $http({
                url:'/api/get-internships-list',
                method:'GET'
            }).then(function(result){
                resolve(result)
            }, function(error){
                reject(error)
            })
        })
    };

    return {
        getInternshipList: getInternshipList
    }
}]);